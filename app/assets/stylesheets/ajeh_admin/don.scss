.don-editor {
  // background-color: darken(#fff, 1%);
  border: solid 1px darken(#fff, 15%);
  border-radius: 4px;
  overflow: hidden;
  html.support-css-hairlines & {
    border-width: 0.5px;
  }
}

.don-toolbar {
  position: relative;
  @include user-select(none);
  cursor: default;
  @include display(flex);
  @include align-items(stretch);
  @include justify-content(center);
  background-color: #fff;
  padding: 10px;
  border-top: 1px solid darken(#fff, 15%);

  font-size: 11px;
  text-transform: uppercase;
  html.support-css-hairlines & {
    border-width: 0.5px;
  }
}

.don-toolbar:before {
  content: '+';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: #fff;
  font-size: 20px;
  @include display(flex);
  @include justify-content(center);
  @include align-items(center);
}

.don-toolbar:hover:before {
  display: none;
}

.don-blocks[data-block-count="0"] + .don-toolbar {
  border-top: 0;
}

.don-toolbar--button {
  @include display(flex);
  @include align-items(center);
  cursor: pointer;
}

.don-toolbar--button:hover {
  font-weight: 400;
}

.don-toolbar--button + .don-toolbar--button {
  padding-left: 10px;
}

.don-block--inner {
  padding: 10px;
  background-color: darken(#fff, 1%);
}

.don-block + .don-block {
  border-top: 1px solid #eee;
}

.don-block--header,
.don-block--footer {
  @include user-select(none);
  // background-color: #fff;
  // background-color: darken(#fff, 1%);
}

.don-block--header {
  padding: 10px;
  text-transform: uppercase;
  font-size: 11px;
  @include display(flex);
  @include align-items(center);
  border-bottom: 1px solid darken(#fff, 15%);
  html.support-css-hairlines & {
    border-width: 0.5px;
  }
}

.don-block--title {
  @include flex-grow(1);
}

.don-block--title:before {
  content: 'â–¾';
  margin-right: .5em;
}

.don-block--footer {
  display: none;
  position: relative;
  padding: 10px;
  border-top: 1px solid darken(#fff, 15%);
  text-align: center;
  // background-color: yellow;
  font-size: 11px;
  text-transform: uppercase;
  html.support-css-hairlines & {
    border-width: 0.5px;
  }
}

// .don-block:hover .don-block--footer {
//   display: block;
// }

.don-block--footer .don-toolbar {
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  opacity: 0;
  pointer-events: none;
}

.don-block--footer:hover .don-toolbar {
  opacity: 1;
  pointer-events: auto;
}

.don-block__gallery-item [data-move="up"] {
  cursor: n-resize;
}

.don-block__gallery-item [data-move="down"] {
  cursor: s-resize;
}

.don-block__gallery-item:first-child [data-move="up"] {
  display: none;
  // opacity: 0.5;
  // pointer-events: none;
}

.don-block__gallery-item:last-child [data-move="down"] {
  display: none;
  // opacity: 0.5;
  // pointer-events: none;
}

.don-block__gallery-item--preview {
  position: relative;
}

.don-block__gallery-item--img {
  width: 100%;
  margin-bottom: 0 !important;
}

.don-block__gallery-item--actions {
  opacity: 0;
  padding: 10px 5px;
  position: absolute;
  top: 50%;
  left: 50%;
  @include transform(translate(-50%,-50%));
  color: #fff;
  background-color: transparentize(black,0.2);
  border-radius: 4px;
  @include transition(opacity .15s ease-in-out);
}

.don-block__gallery-item:hover .don-block__gallery-item--actions {
  opacity: 1;
}

.don-block__gallery-item:only-child .don-block__gallery-item--actions {
  display: none;
}

.don-block__gallery-item--action {
  display: inline-block;
  cursor: default;
  padding: 0 5px;

  &[data-action="remove"] {
    color: red;
    cursor: pointer;
    font-size: 15px;
    font-weight: bold
  }
}

.don-block__gallery-item {
  margin-bottom: 20px;
}

input.don-block__gallery-item--captioninput {
  display: block;
  width: 100%;
  padding: 10px;
  border: solid 1px darken(#fff, 15%);
  border-radius: 0 0 4px 4px;
  background-color: darken(#fff, 1%);
  border-top: 0;
  html.support-css-hairlines & {
    border-width: 0.5px;
  }
}

input.don-block__photo--captioninput {
  display: block;
  width: 100%;
  padding: 10px;
  border: solid 1px darken(#fff, 15%);
  border-radius: 0 0 4px 4px;
  background-color: darken(#fff, 1%);
  border-top: 0;
  html.support-css-hairlines & {
    border-width: 0.5px;
  }
}

.don-block__photo--fullwidthlabel {
  display: block;
  margin-top: 10px;
}

input.don-block__embed--captioninput {
  display: block;
  width: 100%;
  padding: 10px;
  border: solid 1px darken(#fff, 15%);
  border-radius: 0 0 4px 4px;
  background-color: darken(#fff, 1%);
  border-top: 0;
  html.support-css-hairlines & {
    border-width: 0.5px;
  }
}

.don-block__wysiwyg .don-block--inner {
  padding: 0;
}

// .don-block__wysiwyg .redactor-editor {
//   padding: 0;
// }

.don-block--remove {
  color: red;
}

.don-block--actions > * {
  margin-left: 0.5em;
  cursor: pointer;
}

.don-block:first-child .don-block--moveup,
.don-block:last-child .don-block--movedown {
  display: none;
}

.don-block--moveup {
  cursor: n-resize;
}

.don-block--movedown {
  cursor: s-resize;
}

.don-block--actions {
  opacity: 0;
}

.don-block:hover .don-block--actions {
  opacity: 1;
}

.don-block--confirm-remove {
  display: none;
}

.don-block--confirm-remove span {
  cursor: pointer;
  margin-left: 0.5em;
}

.don-block--confirm-remove span[data-confirm="yes"] {
  font-weight: 400;
  color: red;
}

.don-block__embed input {
  width: 100%;
}

.don-block__embed--preview {
  position: relative;
}

.don-block__embed canvas {
  display: block;
  width: 100%;
  &:only-child {
    display: none;
  }
}

.don-block__embed iframe {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.don-block__photo img {
  width: 100%;
}

.don-block__embed--input {
  @include display(flex);
}

.don-block__embed--input input {
  @include flex-grow(1);
  padding: 10px;
  border: solid 1px darken(#fff, 15%);
  border-radius: 4px 0 0 4px;
  background-color: darken(#fff, 1%);
  border-right: 0;
  html.support-css-hairlines & {
    border-width: 0.5px;
  }
}

.don-block__embed--input input.empty {
  border-radius: 4px;
  border: solid 1px darken(#fff, 15%);
  html.support-css-hairlines & {
    border-width: 0.5px;
  }
}

.don-block__embed--input button {
  padding: 10px;
  color: #fff;
  background-color: #777;
  @include flex-shrink(0);
  border-radius: 0 4px 4px 0;
  cursor: pointer;
}

.don-block__embed--input input.empty + button {
  display: none;
}

.don-editor.__single_mode .don-block--header,
.don-editor.__single_mode .don-toolbar {
  display: none;
}
